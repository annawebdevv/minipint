{"ast":null,"code":"var _jsxFileName = \"/Users/user/Documents/\\u041D\\u043E\\u0432\\u0430\\u044F \\u043F\\u0430\\u043F\\u043A\\u0430/minipint/src/components/Forms/RegistrationForm.tsx\",\n    _s = $RefreshSig$();\n\nimport { useRef, useEffect, useState } from \"react\";\nimport { useInput } from \"../../hooks/useInput\";\nimport store from \"../../store/store\";\nimport { Button } from \"../common/Button/Button\";\nimport { Input } from \"../common/Input/styles\";\nimport { FormContainer, Label, Link } from \"./styles\";\nimport { register } from \"../../auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const RegistrationForm = () => {\n  _s();\n\n  const [hint, setHint] = useState(null);\n  const inputRef = useRef(null);\n  const {\n    value: email,\n    onChange: onChangeEmail,\n    error: emailError,\n    onBlur: onBlurEmail,\n    clear: clearEmail\n  } = useInput(\"\", true, \"Введите Email\");\n  const {\n    value: password,\n    onChange: onChangePassword,\n    error: passwordError,\n    onBlur: onBlurPassword,\n    clear: clearPassword\n  } = useInput(\"\", true, \"Введите пароль\");\n\n  const toAuth = () => {\n    clearEmail();\n    clearPassword();\n    store.setCurrentModal(\"AuthorizationForm\");\n  };\n\n  const handleSubmit = () => {\n    if (!password || !email) {\n      setHint(\"Заполни все поля\");\n    } else {\n      register(email, password, setHint);\n      clearEmail();\n      clearPassword();\n    }\n  };\n\n  useEffect(() => {\n    if (store.isModal === true) inputRef.current.focus(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [store.isModal]);\n  return /*#__PURE__*/_jsxDEV(FormContainer, {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Registration \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Label, {\n      children: [\"Email\", /*#__PURE__*/_jsxDEV(Input, {\n        ref: inputRef,\n        value: email ? email : \"\",\n        onChange: onChangeEmail,\n        onBlur: onBlurEmail\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error\",\n        children: emailError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Label, {\n      children: [\"Password\", /*#__PURE__*/_jsxDEV(Input, {\n        type: \"password\",\n        value: password ? password : \"\",\n        onChange: onChangePassword,\n        onBlur: onBlurPassword\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error\",\n        children: passwordError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), hint && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: hint\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 16\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex space-btw\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        children: \"or Sign In\",\n        onClick: toAuth\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        children: \"Sign Up\",\n        onClick: handleSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n\n_s(RegistrationForm, \"Msgfm/dcWsVftFB7otf0TiUXvks=\", false, function () {\n  return [useInput, useInput];\n});\n\n_c = RegistrationForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"RegistrationForm\");","map":{"version":3,"names":["useRef","useEffect","useState","useInput","store","Button","Input","FormContainer","Label","Link","register","RegistrationForm","hint","setHint","inputRef","value","email","onChange","onChangeEmail","error","emailError","onBlur","onBlurEmail","clear","clearEmail","password","onChangePassword","passwordError","onBlurPassword","clearPassword","toAuth","setCurrentModal","handleSubmit","isModal","current","focus"],"sources":["/Users/user/Documents/Новая папка/minipint/src/components/Forms/RegistrationForm.tsx"],"sourcesContent":["import { FC, useRef, useEffect, MouseEventHandler, useState } from \"react\";\nimport { useInput } from \"../../hooks/useInput\";\nimport store from \"../../store/store\";\n\nimport { Button } from \"../common/Button/Button\";\nimport { Input } from \"../common/Input/styles\";\n\nimport { FormContainer, Label, Link } from \"./styles\";\n\nimport { register } from \"../../auth\";\n\nexport const RegistrationForm: FC = () => {\n  const [hint, setHint] = useState<string | null>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const {\n    value: email,\n    onChange: onChangeEmail,\n    error: emailError,\n    onBlur: onBlurEmail,\n    clear: clearEmail,\n  } = useInput(\"\", true, \"Введите Email\");\n\n  const {\n    value: password,\n    onChange: onChangePassword,\n    error: passwordError,\n    onBlur: onBlurPassword,\n    clear: clearPassword,\n  } = useInput(\"\", true, \"Введите пароль\");\n\n  const toAuth: MouseEventHandler<HTMLElement> = () => {\n    clearEmail();\n    clearPassword();\n    store.setCurrentModal(\"AuthorizationForm\");\n  };\n\n  const handleSubmit: MouseEventHandler<HTMLButtonElement> = () => {\n    if (!password || !email) {\n      setHint(\"Заполни все поля\");\n    } else {\n      register(email, password, setHint);\n\n      clearEmail();\n      clearPassword();\n    }\n  };\n\n  useEffect(() => {\n    if (store.isModal === true) inputRef.current!.focus();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [store.isModal]);\n\n  return (\n    <FormContainer>\n      <h3>Registration </h3>\n      <hr />\n      <Label>\n        Email\n        <Input\n          ref={inputRef}\n          value={email ? email : \"\"}\n          onChange={onChangeEmail}\n          onBlur={onBlurEmail}\n        />\n        <div className=\"error\">{emailError}</div>\n      </Label>\n\n      <Label>\n        Password\n        <Input\n          type=\"password\"\n          value={password ? password : \"\"}\n          onChange={onChangePassword}\n          onBlur={onBlurPassword}\n        />\n        <div className=\"error\">{passwordError}</div>\n      </Label>\n\n      {hint && <div className=\"error\">{hint}</div>}\n\n      <div className=\"flex space-btw\">\n        <Link children=\"or Sign In\" onClick={toAuth} /> \n\n        <Button children=\"Sign Up\" onClick={handleSubmit} />\n      </div>\n    </FormContainer>\n  );\n};\n"],"mappings":";;;AAAA,SAAaA,MAAb,EAAqBC,SAArB,EAAmDC,QAAnD,QAAmE,OAAnE;AACA,SAASC,QAAT,QAAyB,sBAAzB;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AAEA,SAASC,MAAT,QAAuB,yBAAvB;AACA,SAASC,KAAT,QAAsB,wBAAtB;AAEA,SAASC,aAAT,EAAwBC,KAAxB,EAA+BC,IAA/B,QAA2C,UAA3C;AAEA,SAASC,QAAT,QAAyB,YAAzB;;AAEA,OAAO,MAAMC,gBAAoB,GAAG,MAAM;EAAA;;EACxC,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,CAAgB,IAAhB,CAAhC;EACA,MAAMY,QAAQ,GAAGd,MAAM,CAAmB,IAAnB,CAAvB;EAEA,MAAM;IACJe,KAAK,EAAEC,KADH;IAEJC,QAAQ,EAAEC,aAFN;IAGJC,KAAK,EAAEC,UAHH;IAIJC,MAAM,EAAEC,WAJJ;IAKJC,KAAK,EAAEC;EALH,IAMFrB,QAAQ,CAAC,EAAD,EAAK,IAAL,EAAW,eAAX,CANZ;EAQA,MAAM;IACJY,KAAK,EAAEU,QADH;IAEJR,QAAQ,EAAES,gBAFN;IAGJP,KAAK,EAAEQ,aAHH;IAIJN,MAAM,EAAEO,cAJJ;IAKJL,KAAK,EAAEM;EALH,IAMF1B,QAAQ,CAAC,EAAD,EAAK,IAAL,EAAW,gBAAX,CANZ;;EAQA,MAAM2B,MAAsC,GAAG,MAAM;IACnDN,UAAU;IACVK,aAAa;IACbzB,KAAK,CAAC2B,eAAN,CAAsB,mBAAtB;EACD,CAJD;;EAMA,MAAMC,YAAkD,GAAG,MAAM;IAC/D,IAAI,CAACP,QAAD,IAAa,CAACT,KAAlB,EAAyB;MACvBH,OAAO,CAAC,kBAAD,CAAP;IACD,CAFD,MAEO;MACLH,QAAQ,CAACM,KAAD,EAAQS,QAAR,EAAkBZ,OAAlB,CAAR;MAEAW,UAAU;MACVK,aAAa;IACd;EACF,CATD;;EAWA5B,SAAS,CAAC,MAAM;IACd,IAAIG,KAAK,CAAC6B,OAAN,KAAkB,IAAtB,EAA4BnB,QAAQ,CAACoB,OAAT,CAAkBC,KAAlB,GADd,CAEd;EACD,CAHQ,EAGN,CAAC/B,KAAK,CAAC6B,OAAP,CAHM,CAAT;EAKA,oBACE,QAAC,aAAD;IAAA,wBACE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAEE;MAAA;MAAA;MAAA;IAAA,QAFF,eAGE,QAAC,KAAD;MAAA,iCAEE,QAAC,KAAD;QACE,GAAG,EAAEnB,QADP;QAEE,KAAK,EAAEE,KAAK,GAAGA,KAAH,GAAW,EAFzB;QAGE,QAAQ,EAAEE,aAHZ;QAIE,MAAM,EAAEI;MAJV;QAAA;QAAA;QAAA;MAAA,QAFF,eAQE;QAAK,SAAS,EAAC,OAAf;QAAA,UAAwBF;MAAxB;QAAA;QAAA;QAAA;MAAA,QARF;IAAA;MAAA;MAAA;MAAA;IAAA,QAHF,eAcE,QAAC,KAAD;MAAA,oCAEE,QAAC,KAAD;QACE,IAAI,EAAC,UADP;QAEE,KAAK,EAAEK,QAAQ,GAAGA,QAAH,GAAc,EAF/B;QAGE,QAAQ,EAAEC,gBAHZ;QAIE,MAAM,EAAEE;MAJV;QAAA;QAAA;QAAA;MAAA,QAFF,eAQE;QAAK,SAAS,EAAC,OAAf;QAAA,UAAwBD;MAAxB;QAAA;QAAA;QAAA;MAAA,QARF;IAAA;MAAA;MAAA;MAAA;IAAA,QAdF,EAyBGf,IAAI,iBAAI;MAAK,SAAS,EAAC,OAAf;MAAA,UAAwBA;IAAxB;MAAA;MAAA;MAAA;IAAA,QAzBX,eA2BE;MAAK,SAAS,EAAC,gBAAf;MAAA,wBACE,QAAC,IAAD;QAAM,QAAQ,EAAC,YAAf;QAA4B,OAAO,EAAEkB;MAArC;QAAA;QAAA;QAAA;MAAA,QADF,eAGE,QAAC,MAAD;QAAQ,QAAQ,EAAC,SAAjB;QAA2B,OAAO,EAAEE;MAApC;QAAA;QAAA;QAAA;MAAA,QAHF;IAAA;MAAA;MAAA;MAAA;IAAA,QA3BF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAmCD,CA7EM;;GAAMrB,gB;UAUPR,Q,EAQAA,Q;;;KAlBOQ,gB"},"metadata":{},"sourceType":"module"}