{"ast":null,"code":"var _jsxFileName = \"/Users/user/Documents/\\u041D\\u043E\\u0432\\u0430\\u044F \\u043F\\u0430\\u043F\\u043A\\u0430/minipint/src/components/Forms/AuthorizationForm.tsx\",\n    _s = $RefreshSig$();\n\nimport { useRef, useEffect, useState } from \"react\";\nimport { useInput } from \"../../hooks/useInput\";\nimport store from \"../../store/store\";\nimport { Button } from \"../common/Button/Button\";\nimport { Input } from \"../common/Input/styles\";\nimport { Link, FormContainer, Label } from \"./styles\";\nimport { EnterKeydown, login } from \"../../auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AuthorizationForm = () => {\n  _s();\n\n  const [hint, setHint] = useState(null);\n  const inputRef = useRef(null);\n  const {\n    value: email,\n    onChange: onChangeEmail,\n    error: emailError,\n    onBlur: onBlurEmail,\n    clear: clearEmail\n  } = useInput(\"\", true, \"Введите Email\");\n  const {\n    value: password,\n    onChange: onChangePassword,\n    error: passwordError,\n    onBlur: onBlurPassword,\n    clear: clearPassword\n  } = useInput(\"\", true, \"Введите пароль\");\n\n  const toRegestration = () => {\n    clearEmail();\n    clearPassword();\n    store.setCurrentModal(\"RegistrationForm\");\n  };\n\n  const handleSubmit = () => {\n    if (!password || !email) {\n      setHint(\"Заполни все поля\");\n    } else {\n      try {\n        login(email, password, setHint, clearEmail, clearPassword);\n      } catch (e) {\n        console.log(\"first\");\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (store.isModal === true) inputRef.current.focus(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [store.isModal]);\n  useEffect(() => {\n    window.addEventListener(\"keydown\", EnterKeydown);\n    return () => {\n      window.removeEventListener(\"keydown\", EnterKeydown);\n    };\n  });\n  return /*#__PURE__*/_jsxDEV(FormContainer, {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Authorization\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Label, {\n      children: [\"Email\", /*#__PURE__*/_jsxDEV(Input, {\n        ref: inputRef,\n        value: email ? email : \"\",\n        onChange: onChangeEmail,\n        onBlur: onBlurEmail\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error\",\n        children: emailError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Label, {\n      children: [\"Password\", /*#__PURE__*/_jsxDEV(Input, {\n        type: \"password\",\n        value: password ? password : \"\",\n        onChange: onChangePassword,\n        onBlur: onBlurPassword\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error\",\n        children: passwordError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), hint && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: hint\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 16\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex space-btw\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        children: \"or Sign Up\",\n        onClick: toRegestration\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        children: \"Sign In\",\n        onClick: handleSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AuthorizationForm, \"T8/QJh9tS8m0qZikuFd51gzpx5Y=\", false, function () {\n  return [useInput, useInput];\n});\n\n_c = AuthorizationForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthorizationForm\");","map":{"version":3,"names":["useRef","useEffect","useState","useInput","store","Button","Input","Link","FormContainer","Label","EnterKeydown","login","AuthorizationForm","hint","setHint","inputRef","value","email","onChange","onChangeEmail","error","emailError","onBlur","onBlurEmail","clear","clearEmail","password","onChangePassword","passwordError","onBlurPassword","clearPassword","toRegestration","setCurrentModal","handleSubmit","e","console","log","isModal","current","focus","window","addEventListener","removeEventListener"],"sources":["/Users/user/Documents/Новая папка/minipint/src/components/Forms/AuthorizationForm.tsx"],"sourcesContent":["import {\n  FC,\n  useRef,\n  useEffect,\n  MouseEventHandler,\n  useState,\n  KeyboardEventHandler,\n} from \"react\";\nimport { useInput } from \"../../hooks/useInput\";\nimport store from \"../../store/store\";\n\nimport { Button } from \"../common/Button/Button\";\nimport { Input } from \"../common/Input/styles\";\n\nimport { Link, FormContainer, Label } from \"./styles\";\n\nimport { EnterKeydown, login } from \"../../auth\";\n\nexport const AuthorizationForm: FC = () => {\n  const [hint, setHint] = useState<string | null>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const {\n    value: email,\n    onChange: onChangeEmail,\n    error: emailError,\n    onBlur: onBlurEmail,\n    clear: clearEmail,\n  } = useInput(\"\", true, \"Введите Email\");\n\n  const {\n    value: password,\n    onChange: onChangePassword,\n    error: passwordError,\n    onBlur: onBlurPassword,\n    clear: clearPassword,\n  } = useInput(\"\", true, \"Введите пароль\");\n\n  const toRegestration: MouseEventHandler<HTMLElement> = () => {\n    clearEmail();\n    clearPassword();\n    store.setCurrentModal(\"RegistrationForm\");\n  };\n\n  const handleSubmit = () => {\n    if (!password || !email) {\n      setHint(\"Заполни все поля\");\n    } else {\n      try {\n        login(email, password, setHint, clearEmail, clearPassword);\n      } catch (e) {\n        console.log(\"first\");\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (store.isModal === true) inputRef.current!.focus();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [store.isModal]);\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", EnterKeydown);\n    return () => {\n      window.removeEventListener(\"keydown\", EnterKeydown);\n    };\n  });\n\n  return (\n    <FormContainer>\n      <h3>Authorization</h3>\n      <hr />\n\n      <Label>\n        Email\n        <Input\n          ref={inputRef}\n          value={email ? email : \"\"}\n          onChange={onChangeEmail}\n          onBlur={onBlurEmail}\n        />\n        <div className=\"error\">{emailError}</div>\n      </Label>\n\n      <Label>\n        Password\n        <Input\n          type=\"password\"\n          value={password ? password : \"\"}\n          onChange={onChangePassword}\n          onBlur={onBlurPassword}\n        />\n        <div className=\"error\">{passwordError}</div>\n      </Label>\n\n      {hint && <div className=\"error\">{hint}</div>}\n\n      <div className=\"flex space-btw\">\n        <Link children=\"or Sign Up\" onClick={toRegestration} />\n\n        <Button children=\"Sign In\" onClick={handleSubmit} />\n      </div>\n    </FormContainer>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}